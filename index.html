<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Facebook Video Downloader Test</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #111; color: #eee; }
  input, button { padding: 10px; font-size: 16px; margin-right: 10px; width: 300px; }
  button { cursor: pointer; background: #e50914; border: none; color: white; }
  video { max-width: 100%; margin-top: 20px; }
  a.download-link { display: block; margin-top: 10px; color: #1db954; }
</style>
</head>
<body>

<h1>Facebook Video Downloader Test</h1>
<input id="urlInput" type="text" placeholder="Paste Facebook video/reel URL here" />
<button id="downloadBtn">Get Video</button>

<div id="output"></div>

<script>
  const apiKey = "prince"; // replace with your API key if needed
  const output = document.getElementById('output');
  const btn = document.getElementById('downloadBtn');
  
  btn.addEventListener('click', async () => {
    const url = document.getElementById('urlInput').value.trim();
    if (!url) {alert('Please enter a Facebook video URL.');
      return;
    }
    output.innerHTML = 'Loading...';

    try {
      const apiURL = `https://api.princetechn.com/api/download/facebook?apikey=apiKey   url={encodeURIComponent(url)}`;
      const res = await fetch(apiURL);
      const data = await res.json();

      if (data.status !== 'success') {
        output.innerHTML = 'Video not found or API error.';
        return;
      }

      // Assuming data.result has video links, usually in data.result or data.result.video_url
      const videoUrl = data.result?.video_url || data.result?.url || null;
      if (!videoUrl) {
        output.innerHTML = 'No video URL found in API response.';
        return;
      }

      output.innerHTML = `
        <video controls autoplay src="videoUrl"></video>
        <a class="download-link" href="{videoUrl}" download>Download Video</a>
      `;
    } catch (error) {
      output.innerHTML = 'Error fetching video. Try again later.';
      console.error(error);
    }
  });
</script>

</body>
</html>
